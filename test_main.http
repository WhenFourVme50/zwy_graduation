# Test your FastAPI endpoints

# 新的用户注册接口测试
POST http://127.0.0.1:8001/user/auth/register
Content-Type: application/json

{
  "username": "testuser001",
  "email": "testuser001@example.com",
  "phone": "13800138001",
  "password": "password123",
  "name": "张三",
  "user_type": "user",
  "gender": "male",
  "birthday": "1995-05-15",
  "address": "北京市朝阳区某某街道123号",
  "occupation": "软件工程师",
  "pet_experience": "experienced"
}

###

# 志愿者注册测试
POST http://127.0.0.1:8001/user/auth/register
Content-Type: application/json

{
  "username": "volunteer001",
  "email": "volunteer001@example.com",
  "phone": "13800138002",
  "password": "password123",
  "name": "李四",
  "user_type": "volunteer",
  "gender": "female",
  "birthday": "1990-03-20",
  "address": "上海市浦东新区某某路456号",
  "occupation": "教师",
  "pet_experience": "expert"
}

###

# 收容所管理员注册测试
POST http://127.0.0.1:8001/user/auth/register
Content-Type: application/json

{
  "username": "shelter_admin001",
  "email": "admin001@shelter.com",
  "phone": "13800138003",
  "password": "admin123456",
  "name": "王五",
  "user_type": "shelter_admin",
  "gender": "other",
  "birthday": "1985-12-10",
  "address": "广州市天河区某某大道789号",
  "occupation": "动物保护专家",
  "pet_experience": "expert"
}

###

# 最小必填字段注册测试
POST http://127.0.0.1:8001/user/auth/register
Content-Type: application/json

{
  "username": "minimaluser",
  "email": "minimal@example.com",
  "phone": "13800138004",
  "password": "password123",
  "name": "赵六"
}

###


###

# 用户信息更新测试
POST http://127.0.0.1:8001/user/update_info
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="user_phone"

13800138001
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="user_name"

张三更新
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="user_gender"

male
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="user_exp"

expert
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="user_job"

高级软件工程师
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="user_intro"

我是一名热爱动物的软件工程师，有丰富的养宠经验。
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###

# 测试重复用户名注册（应该失败）
POST http://127.0.0.1:8001/user/auth/register
Content-Type: application/json

{
  "username": "testuser001",
  "email": "duplicate@example.com",
  "phone": "13800138099",
  "password": "password123",
  "name": "重复用户名测试"
}

###

# 测试重复邮箱注册（应该失败）
POST http://127.0.0.1:8001/user/auth/register
Content-Type: application/json

{
  "username": "uniqueuser",
  "email": "testuser001@example.com",
  "phone": "13800138098",
  "password": "password123",
  "name": "重复邮箱测试"
}

###

# 测试无效生日格式（应该失败）
POST http://127.0.0.1:8001/user/auth/register
Content-Type: application/json

{
  "username": "invaliddate",
  "email": "invaliddate@example.com",
  "phone": "13800138097",
  "password": "password123",
  "name": "无效日期测试",
  "birthday": "1995-13-32"
}

###

# 获取用户信息测试
GET http://127.0.0.1:8001/user/users/0da7ed43-b8c2-4a7a-bae5-01a08397ee0f
Accept: application/json

###

# 更新用户信息测试
PUT http://127.0.0.1:8001/user/users/0da7ed43-b8c2-4a7a-bae5-01a08397ee0f
Content-Type: application/json

{
  "name": "张三更新",
  "gender": "male",
  "birthday": "1995-05-15",
  "address": "北京市朝阳区更新地址123号",
  "bio": "我是一名热爱动物的软件工程师，有丰富的养宠经验。",
  "occupation": "高级软件工程师",
  "living_condition": "三室一厅，有独立阳台，适合养宠物",
  "family_members": 2,
  "has_other_pets": true
}

###

# 上传用户头像测试
POST http://127.0.0.1:8001/user/users/0da7ed43-b8c2-4a7a-bae5-01a08397ee0f/avatar
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="avatar"; filename="avatar.jpg"
Content-Type: image/jpeg

< ./test_avatar.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###

# 获取用户统计信息测试
GET http://127.0.0.1:8001/user/users/0da7ed43-b8c2-4a7a-bae5-01a08397ee0f/statistics
Accept: application/json

###

# 测试不存在的用户
GET http://127.0.0.1:8001/user/users/00000000-0000-0000-0000-000000000000
Accept: application/json

# 获取救助站列表
GET http://127.0.0.1:8001/shelter/shelters
Accept: application/json

###

# 获取救助站列表（带筛选）
GET http://127.0.0.1:8001/shelter/shelters?page=1&size=5&city=北京&status=active
Accept: application/json

###

# 搜索救助站
GET http://127.0.0.1:8001/shelter/shelters?keyword=动物救助&page=1&size=10
Accept: application/json

###

# 创建救助站
POST http://127.0.0.1:8001/shelter/shelters
Content-Type: application/json

{
  "name": "北京爱心动物救助站",
  "description": "专业的动物救助和领养服务机构，致力于为流浪动物提供温暖的家",
  "address": "北京市朝阳区某某街道123号",
  "city": "北京",
  "province": "北京",
  "postal_code": "100000",
  "phone": "010-12345678",
  "email": "info@bjpetrescue.com",
  "website": "https://www.bjpetrescue.com",
  "license_number": "京动救字001号",
  "capacity": 200,
  "established_date": "2020-01-15",
  "operating_hours": {
    "monday": "09:00-18:00",
    "tuesday": "09:00-18:00",
    "wednesday": "09:00-18:00",
    "thursday": "09:00-18:00",
    "friday": "09:00-18:00",
    "saturday": "09:00-17:00",
    "sunday": "10:00-16:00"
  },
  "services": ["rescue", "adoption", "medical", "foster", "education"]
}

###

# 获取救助站详情
GET http://127.0.0.1:8001/shelter/shelters/83bb219a-482a-4c48-8dae-d92b762d92f1
Accept: application/json

###

# 更新救助站信息
PUT http://127.0.0.1:8001/shelter/shelters/83bb219a-482a-4c48-8dae-d92b762d92f1
Content-Type: application/json

{
  "description": "更新后的救助站描述",
  "capacity": 250,
  "website": "https://www.updated-shelter.com",
  "services": ["rescue", "adoption", "medical", "foster", "education", "training"]
}

###

# 获取救助站统计信息
GET http://127.0.0.1:8001/shelter/shelters/83bb219a-482a-4c48-8dae-d92b762d92f1/statistics
Accept: application/json

###

# 测试不存在的救助站
GET http://127.0.0.1:8001/shelter/shelters/00000000-0000-0000-0000-000000000000
Accept: application/json
